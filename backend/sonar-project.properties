# backend/sonar-project.properties
sonar.projectKey=Sistema-de-Registro-CEPEIGE-backend
sonar.projectName=Sistema de Registro CEPEIGE backend
sonar.projectVersion=1.0

sonar.sources=src

sonar.exclusions=src/**/*.test.ts,src/**/*.spec.ts,src/utils/tests/**/*, src/config/**/*.ts, src/api/controllers/**/*.ts, src/api/middlewares/**/*.ts, src/api/routes/**/*.ts, src/api/dtos/**/*.ts, src/app.ts, src/server.ts, src/test-moodle.ts, src/triggers/**/*, src/types/**/*, src/test/**/*,prisma/**/*

sonar.tests=src 

sonar.test.inclusions=src/**/*.test.ts,src/**/*.spec.ts

sonar.javascript.lcov.reportPaths=coverage/lcov.info

sonar.sourceEncoding=UTF-8

# Configuración para no esperar Quality Gate (evitar fallos en CI)
sonar.qualitygate.wait=false

# Configuración específica para New Code Period
sonar.newCode.referenceBranch=main

# Excluir múltiples reglas problemáticas
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5,e6,e7

# Ignorar TODOs y comentarios similares
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1135
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.ts

# Ignorar FIXMEs
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S1134
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.ts

# Permitir console.log para debugging
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S2228
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*.ts

# Ignorar variables no utilizadas en tests
sonar.issue.ignore.multicriteria.e4.ruleKey=typescript:S1481
sonar.issue.ignore.multicriteria.e4.resourceKey=**/*.test.ts

# Ignorar complejidad cognitiva alta
sonar.issue.ignore.multicriteria.e5.ruleKey=typescript:S3776
sonar.issue.ignore.multicriteria.e5.resourceKey=**/*.ts

# Permitir funciones grandes en servicios
sonar.issue.ignore.multicriteria.e6.ruleKey=typescript:S138
sonar.issue.ignore.multicriteria.e6.resourceKey=**/service*.ts

# Ignorar duplicación de código en archivos similares
sonar.issue.ignore.multicriteria.e7.ruleKey=common-ts:DuplicatedBlocks
sonar.issue.ignore.multicriteria.e7.resourceKey=**/*.ts

# Configuración de umbrales más permisivos
sonar.coverage.exclusions=src/**/*.test.ts,src/**/*.spec.ts,src/test/**/*